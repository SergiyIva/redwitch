(this.webpackJsonpfinevideo=this.webpackJsonpfinevideo||[]).push([[7],{180:function(e,a,c){"use strict";c.r(a);var s=c(8),l=c(63),t=c(3),n=(c(165),c(168)),i=c(96),r=c(1),o=null,d=function(e){var a=e.addCard,c=Object(t.useState)(null),d=Object(s.a)(c,2),b=d[0],m=d[1],j=Object(l.a)({name:"",slug:"",content:"",price:0,position:0,tags:"",checkbox:"false"}),u=Object(s.a)(j,1)[0],h=Object(t.useRef)(),p=Object(t.useMemo)((function(){return Object(i.a)()}),[]),v=Object(t.useCallback)((function(e){e.preventDefault();var c={available:"true"===u.value.checkbox,describe:u.value.content,name:u.value.name,slug:u.value.slug,price:Number(u.value.price),tags:u.value.tags.replace(/\s/g,"").split(",")},s=p({content:c.describe,name:c.name,other:c.slug,price:c.price,array:c.tags});m(s),o&&o.cachedFileArray&&(c.file=o.cachedFileArray[0]),u.value.position&&(c.position=Number(u.value.position)),console.log(s),s.isValid?a({variables:c}):window.scrollTo({top:150})}),[u.value,p]);return Object(t.useEffect)((function(){return o=new n.a("myFirstImage",{accept:"image/*",text:{browse:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0444\u0430\u0439\u043b",chooseFile:"\u0424\u0430\u0439\u043b \u043d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d",label:"\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435",selectedCount:"\u0424\u0430\u0439\u043b \u0432\u044b\u0431\u0440\u0430\u043d"}}),function(){o=null}}),[]),Object(r.jsxs)("form",{id:"form",className:"needs-validation",method:"post",role:"form",onSubmit:v,children:[Object(r.jsxs)("div",{className:"row g-3",children:[Object(r.jsxs)("div",{className:"col-12",children:[Object(r.jsxs)("label",{htmlFor:"name",className:"form-label",children:["\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 ",Object(r.jsx)("span",{className:"text-muted",children:"(\u043d\u0430 \u0440\u0443\u0441\u0441\u043a\u043e\u043c)"})]}),Object(r.jsx)("input",{name:"name",type:"text",className:"form-control ".concat(b&&b.name&&("isValid"===b.name?"is-valid":"is-invalid")),id:"name",placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",value:u.value.name,onChange:u.onChange,required:!0}),Object(r.jsx)("div",{className:"invalid-feedback",children:b&&b.name})]}),Object(r.jsxs)("div",{className:"col-12",children:[Object(r.jsx)("label",{htmlFor:"slug",className:"form-label",children:"\u041a\u0440\u0430\u0442\u043a\u043e\u0435 \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"}),Object(r.jsx)("input",{name:"slug",type:"text",className:"form-control ".concat(b&&b.other&&("isValid"===b.other?"is-valid":"is-invalid")),id:"slug",placeholder:"\u041a\u0440\u0430\u0442\u043a\u043e\u0435 \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",value:u.value.slug,onChange:u.onChange,required:!0}),Object(r.jsx)("div",{className:"invalid-feedback",children:b&&b.other})]}),Object(r.jsxs)("div",{className:"input-group",children:[Object(r.jsx)("span",{className:"input-group-text",children:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"}),Object(r.jsx)("textarea",{name:"content",className:"form-control ".concat(b&&b.content&&("isValid"===b.content?"is-valid":"is-invalid")),"aria-label":"With textarea",value:u.value.content,onChange:u.onChange,required:!0}),Object(r.jsx)("div",{className:"invalid-feedback",children:b&&b.content})]}),Object(r.jsxs)("div",{className:"col-12",children:[Object(r.jsx)("label",{htmlFor:"price",className:"form-label",children:"\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c"}),Object(r.jsx)("input",{name:"price",type:"number",className:"form-control ".concat(b&&b.price&&("isValid"===b.price?"is-valid":"is-invalid")),id:"price",placeholder:"\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c",value:u.value.price,onChange:u.onChange,required:!0}),Object(r.jsx)("div",{className:"invalid-feedback",children:b&&b.price})]}),Object(r.jsxs)("div",{className:"col-12",children:[Object(r.jsxs)("label",{htmlFor:"position",className:"form-label",children:["\u041f\u043e\u0437\u0438\u0446\u0438\u044f \u043d\u0430 \u0432\u0438\u0442\u0440\u0438\u043d\u0435"," ",Object(r.jsx)("span",{className:"text-muted",children:"(\u0447\u0435\u043c \u0431\u043e\u043b\u044c\u0448\u0435, \u0442\u0435\u043c \u0432\u044b\u0448\u0435)"})]}),Object(r.jsx)("input",{name:"position",type:"number",className:"form-control",id:"position",placeholder:"\u041f\u043e\u0437\u0438\u0446\u0438\u044f",value:u.value.position,onChange:u.onChange,required:!0})]}),Object(r.jsxs)("div",{className:"col-12",children:[Object(r.jsxs)("label",{htmlFor:"tags",className:"form-label",children:["\u0422\u044d\u0433\u0438 ",Object(r.jsx)("span",{className:"text-muted",children:"(\u0447\u0435\u0440\u0435\u0437 \u0437\u0430\u043f\u044f\u0442\u0443\u044e)"})]}),Object(r.jsx)("input",{name:"tags",type:"text",className:"form-control ".concat(b&&b.array&&("isValid"===b.array?"is-valid":"is-invalid")),id:"tags",placeholder:"\u0422\u044d\u0433\u0438",value:u.value.tags,onChange:u.onChange,required:!0}),Object(r.jsx)("div",{className:"invalid-feedback",children:b&&b.array})]}),Object(r.jsxs)("div",{className:"col-12",children:[Object(r.jsx)("input",{name:"checkbox",type:"checkbox",className:"form-check-input",id:"same-address",value:u.value.checkbox,checked:"true"===u.value.checkbox,onChange:u.onChange}),Object(r.jsx)("label",{className:"form-check-label mx-1",htmlFor:"same-address",children:"\u0421\u0434\u0435\u043b\u0430\u0442\u044c \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u043c \u0434\u043b\u044f \u043f\u043e\u043a\u0443\u043f\u043a\u0438."})]}),Object(r.jsx)("div",{ref:h,className:"custom-file-container mb-3","data-upload-id":"myFirstImage"})]}),Object(r.jsx)("hr",{className:"my-4"}),Object(r.jsx)("button",{id:"button",className:"w-100 btn btn-success btn-lg",type:"submit",children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"})]})},b=c(160),m=c(62),j=c(36),u=c(166),h=c(167),p=c(29);a.default=function(){var e=Object(t.useState)(""),a=Object(s.a)(e,2),c=a[0],l=a[1],n=Object(b.a)(m.e,{onCompleted:function(e){e.upsertCard?l("TRUE"):l("FALSE")},refetchQueries:[{query:p.e}]}),i=Object(s.a)(n,2),o=i[0],v=i[1],x=v.loading,O=v.error;return x?Object(r.jsx)(j.a,{}):"TRUE"===c?Object(r.jsx)(h.a,{repeat:function(){return l("")}}):"FALSE"===c||O?Object(r.jsx)(u.a,{error:O||new Error("\u041e\u0442\u043a\u0430\u0437\u0430\u043d\u043e \u0432 \u0441\u043e\u0432\u0435\u0440\u0448\u0435\u043d\u0438\u0438 \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438."),tryAgain:function(){return l("")}}):Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{className:"pt-3 pb-2 mb-3 border-bottom",children:Object(r.jsx)("h2",{className:"h2",children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u043e\u0432\u0443\u044e \u0443\u0441\u043b\u0443\u0433\u0443"})}),Object(r.jsx)("div",{className:"py-3 text-center",children:Object(r.jsx)("p",{className:"lead",children:"\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u0444\u043e\u0440\u043c\u0443 \u043d\u0438\u0436\u0435, \u0434\u043b\u044f \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u043d\u043e\u0432\u043e\u0433\u043e \u0432\u0438\u0434\u0430 \u0443\u0441\u043b\u0443\u0433\u0438. \u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u0432\u0441\u0435 \u043f\u0440\u0435\u0434\u043b\u043e\u0436\u0435\u043d\u043d\u044b\u0435 \u043f\u043e\u043b\u044f."})}),Object(r.jsx)("div",{className:"row pb-5",children:Object(r.jsxs)("div",{className:"col-md-7 col-lg-8",children:[Object(r.jsx)("h4",{className:"mb-3",children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0434\u0430\u043d\u043d\u044b\u0435"}),Object(r.jsx)(d,{addCard:o})]})})]})}}}]);
//# sourceMappingURL=7.b88a177c.chunk.js.map