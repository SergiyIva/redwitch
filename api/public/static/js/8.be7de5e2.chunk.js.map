{"version":3,"sources":["Admin/Pages/Products/Products.tsx"],"names":["Products","useQuery","GET_SERVICE_CARDS","data","error","selectRef","useRef","navigate","useNavigate","useEffect","console","log","className","to","htmlFor","id","disabled","ref","getCards","map","sku","name","message","onClick","current","selectedOptions","item"],"mappings":"wGAAA,0DAsFeA,UAjFE,WACf,MAAwBC,YAA0BC,KAA1CC,EAAR,EAAQA,KAAMC,EAAd,EAAcA,MACRC,EAAYC,mBACZC,EAAWC,cAQjB,OADAC,qBAAU,kBAAMC,QAAQC,IAAIR,KAAO,CAACA,IAElC,qCACE,qBAAKS,UAAU,0GAAf,SACE,oBAAIA,UAAU,KAAd,0DAEF,uBAAMA,UAAU,mCAAhB,UACE,qBAAKA,UAAU,WAAf,SACE,sBAAKA,UAAU,OAAf,UACE,qBAAKA,UAAU,cAAf,kIACA,sBAAKA,UAAU,YAAf,UACE,oBAAIA,UAAU,aAAd,iFACA,mBAAGA,UAAU,YAAb,sdAIA,cAAC,IAAD,CAASC,GAAG,kBAAkBD,UAAU,kBAAxC,iEAIF,qBAAKA,UAAU,yBAAf,sIAGJ,qBAAKA,UAAU,MAAf,SACE,sBAAKA,UAAU,OAAf,UACE,qBAAKA,UAAU,cAAf,kIACA,sBAAKA,UAAU,YAAf,UACE,oBAAIA,UAAU,aAAd,mGACA,mBAAGA,UAAU,YAAb,wdAIA,sBAAKA,UAAU,OAAf,UACE,uBAAOE,QAAQ,SAASF,UAAU,aAAlC,6FAGA,wBACEG,GAAG,SACHH,UAAS,cACTI,WAAYZ,IAAUD,EACtBc,IAAKZ,EAJP,SAMGF,EACCA,EAAKe,SAASC,KAAI,gBAAGC,EAAH,EAAGA,IAAKC,EAAR,EAAQA,KAAR,OAChB,wBAAQN,GAAIK,EAAZ,SACGC,GADmBD,MAKxB,wBAAQL,GAAI,cAAZ,SACGX,EAAQA,EAAMkB,QAAU,iBAKjC,wBACEP,GAAG,YACHQ,QA/DQ,YACdnB,GAAUD,GAChBI,EACE,oBAAsBF,EAAUmB,QAAQC,gBAAgBC,KAAK,GAAIX,KA6DvDH,UAAU,kBAHZ,iEAQF,qBAAKA,UAAU,yBAAf","file":"static/js/8.be7de5e2.chunk.js","sourcesContent":["import { NavLink, useNavigate } from \"react-router-dom\";\r\nimport { useQuery } from \"@apollo/client\";\r\nimport { GET_SERVICE_CARDS, GetServiceCards } from \"../../../GraphQL/Query\";\r\nimport { MutableRefObject, useEffect, useRef } from \"react\";\r\n\r\nconst Products = () => {\r\n  const { data, error } = useQuery<GetServiceCards>(GET_SERVICE_CARDS);\r\n  const selectRef = useRef() as MutableRefObject<HTMLSelectElement>;\r\n  const navigate = useNavigate();\r\n  const onChangeClick = () => {\r\n    if (!!error || !data) return;\r\n    navigate(\r\n      \"/admin/edit-card/\" + selectRef.current.selectedOptions.item(0)!.id\r\n    );\r\n  };\r\n  useEffect(() => console.log(data), [data]);\r\n  return (\r\n    <>\r\n      <div className=\"d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom\">\r\n        <h1 className=\"h2\">Витрина</h1>\r\n      </div>\r\n      <main className=\"row row-cols-1 row-cols-md-2 g-4\">\r\n        <div className=\"col mb-3\">\r\n          <div className=\"card\">\r\n            <div className=\"card-header\">Добавить новую услугу</div>\r\n            <div className=\"card-body\">\r\n              <h5 className=\"card-title\">Новая услуга</h5>\r\n              <p className=\"card-text\">\r\n                Добавить новую услугу на главную страницу, с добавлением всей\r\n                необходимой информацией.\r\n              </p>\r\n              <NavLink to=\"/admin/add-card\" className=\"btn btn-success\">\r\n                Добавить\r\n              </NavLink>\r\n            </div>\r\n            <div className=\"card-footer text-muted\">Последнее добавление</div>\r\n          </div>\r\n        </div>\r\n        <div className=\"col\">\r\n          <div className=\"card\">\r\n            <div className=\"card-header\">Обновить данные услуг</div>\r\n            <div className=\"card-body\">\r\n              <h5 className=\"card-title\">Изменение услуг</h5>\r\n              <p className=\"card-text\">\r\n                Изменить или удалить услугу. Также можно скрыть отображение без\r\n                удаления из базы данных.\r\n              </p>\r\n              <div className=\"mb-3\">\r\n                <label htmlFor=\"select\" className=\"form-label\">\r\n                  Выбрать услугу\r\n                </label>\r\n                <select\r\n                  id=\"select\"\r\n                  className={`form-select`}\r\n                  disabled={!!error || !data}\r\n                  ref={selectRef}\r\n                >\r\n                  {data ? (\r\n                    data.getCards.map(({ sku, name }) => (\r\n                      <option id={sku} key={sku}>\r\n                        {name}\r\n                      </option>\r\n                    ))\r\n                  ) : (\r\n                    <option id={\"nodataError\"}>\r\n                      {error ? error.message : \"No data\"}\r\n                    </option>\r\n                  )}\r\n                </select>\r\n              </div>\r\n              <button\r\n                id=\"selectBtn\"\r\n                onClick={onChangeClick}\r\n                className=\"btn btn-success\"\r\n              >\r\n                Изменить\r\n              </button>\r\n            </div>\r\n            <div className=\"card-footer text-muted\">Последнее изменение</div>\r\n          </div>\r\n        </div>\r\n      </main>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Products;\r\n"],"sourceRoot":""}